<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8"/>
		<title>Context Actions</title>
        <link rel="icon" type="image/png" href="/icons/SiemplifyExtension48.png" />
        <link rel="stylesheet" type="text/css" href="/config/config.css">
	</head>
	<body>
        <h1 id="context-actions">Context Actions</h1>
		<p>Configure contextual actions, which can be accessed by right-clicking any entity or text element on a page. Actions are templated links which can be used to perform actions such as VirusTotal lookups on entities or pass entity data to a query service.</p>
		<h2 id="usage">Usage</h2>
		<h3 id="adding-context-actions">Adding Context Actions</h3>
		<p>Adding a  context action requries the following information:</p>
		<ul>
		<li>Path</li>
		<li>Action</li>
		<li>Parameters (optional)</li>
		<li>Parameter Encoding</li>
		<li>Re-use tab</li>
		</ul>
		<h4 id="path">Path</h4>
		<p>The Path determines the structure of the contextual menu and where each specific configured action is places. The path is defined as a /-separated string, where each /-separated element corresponds to a menu item within the contextual menu.</p>
		<p>For example, defining the string <code>Search/Google</code> will create a menu item named <code>Search</code>, which will open up to reveal the <code>Google</code> menu item.
		Adding further context actions with the <code>Search/</code> (ex. <code>Search/DuckDuckGo</code>) prefix will insert additional actions into the <code>Search</code> menu item.</p>
		<p>Context menu shortcuts can be defined by insertinng <code>&amp;</code> before the letter that should serve as a shortcut. Ex. <code>&amp;Search/&amp;DuckDuckGo</code> defines the shortcut <code>S</code> for Search and <code>D</code> for DuckDuckGo.</p>
		<h4 id="action">Action</h4>
		<p>The Action is a link which should be opened when the menu item specified by the Path has been clicked by the user. The action should follow the URI syntax (ex. <code>https://example.com</code>).</p>
		<h4 id="action-variables">Action Variables</h4>
		<p>Some variables can be used to insert context-specific information into the action URI. Variables are inserted using the <code>{{VARIABLE}}</code> notation.
		The following variables are current defined:</p>
		<ul>
		<li><code>SELECTION</code> - Inserts the text selection that the context-menu was opened on.</li>
		<li><code>ENVIRONMENT</code> - Inserts the current case environment if the context action was triggered within a case.</li>
		</ul>
		<p>Example: <code>https://duckduckgo.com/?q={{SELECTION}}</code></p>
		<h4 id="parameters-and-parameter-encoding">Parameters and Parameter Encoding</h4>
		<p>The Parameters and Parameter Encoding fields go together.</p>
		<p>The Parameter Encoding field determines how the URL search string should be encoded, while the Parameters field determines which URL query parameters to apply the encoding to.</p>
		<p>If the Parameter Encoding <code>None</code> is selected, then no encoding is performed and the Parameters field is ignored.
		If any Parameter Encoding other that <code>None</code> is selected, then the selected encoding will be applied to the parameters defined in the Parameters field.</p>
		<p>The Parameters field allows you to set which query parameters to encode. Parameters are defined by a comma-separated list. IF you want to encode the URL parameters <code>a</code>, <code>b</code> and <code>abc</code>, you&#39;d enter the string <code>a, b, abc</code> into the Parameters field.</p>
		<h4 id="re-use-tab">Re-use Tab</h4>
		<p>Checking the Re-use Tab checkbox causes succesive executions of the same context action to re-use the same tabs.
		Unchecking this option casues a new tab to be opened every time the context action is executed.</p>
		<h2 id="configuration">Configuration</h2>
		<h3 id="environment-pre-processing">Environment Pre-Processing</h3>
		<p>The Environment variable can be processed into a format expected by the context action endpoints.
		Regex can be used to select a desired part of the environment, and the casing can be adjusted to all upper- or lower-case.
		If no manipulation of the environment variable is desired, these fields ccan be left empty.</p>
		<p>Example of usage could be if a database contains tables using the same names as the Siemplify environment variabbles, but in all lowercase. Environment pre-processing allows this conversion to be made.</p>
		<p>It is currently only possible to specify one method of pre-processing the environment variable. As such, context actions requiring different formats of the environment variable are not currently supported.</p>
	</body>
</html>